#!/bin/bash

# list all exploit short-hand-scripts (extended commands for msf)
SCRIPTS=$(find . -iname "*.sh" ! -name "list.sh")

echo -e "\n \e[4m\e[1m  Exploits:                          \e[0m\n"

c=0
exploits=()
names=()
for i in $SCRIPTS
do
	c=$(($c+1))
	echo -en "   [$c] "
	NAME=$($i ident)
	echo "$NAME"
	exploits+=("$i")
	names+=("$NAME")
done

max=$(($c+1))
echo -en "\n"

# PICK exploit
function pickExploit() {
	read -p "Select exploit [1-$c]: " NBR

	if [ $NBR -lt $max ]
	then
		# EXEC exploit
		KEY=$(($NBR-1))
		echo -e "\n\e[94m\e[1m ${names[$KEY]}\e[0m\n\n"
		. ${exploits[$KEY]}
	else
		echo -e "\n\e[91mWrong exploit number!\e[0m"
		pickExploit
	fi
}
pickExploit

exit 0
